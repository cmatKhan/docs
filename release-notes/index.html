
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.7">
    
    
      
        <title>Q1 - 2021 Changes - High Throughput Computing Facility @ CGSSB</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.19753c6b.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.196e0c26.min.css">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="wustl_gray" data-md-color-primary="" data-md-color-accent="">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#q1-2021-changes" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="High Throughput Computing Facility @ CGSSB" class="md-header-nav__button md-logo" aria-label="High Throughput Computing Facility @ CGSSB">
      
  <img src="../shield-light.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            High Throughput Computing Facility @ CGSSB
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Q1 - 2021 Changes
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          

<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
    
      
    
    <a href=".." class="md-tabs__link md-tabs__link--active">
      The HTCF
    </a>
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
      
      <a href="../getstarted/" class="md-tabs__link">
        Doing Work
      </a>
    </li>
  

      
        
      
        
  
  
    <li class="md-tabs__item">
      
      
      <a href="../storage/" class="md-tabs__link">
        Storage
      </a>
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
      
      <a href="../software/" class="md-tabs__link">
        Software
      </a>
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
      
      <a href="../support/" class="md-tabs__link">
        Support
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="High Throughput Computing Facility @ CGSSB" class="md-nav__button md-logo" aria-label="High Throughput Computing Facility @ CGSSB">
      
  <img src="../shield-light.png" alt="logo">

    </a>
    High Throughput Computing Facility @ CGSSB
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." class="md-nav__link">
      The HTCF
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" >
    <label class="md-nav__link" for="nav-2">
      Doing Work
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Doing Work" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        Doing Work
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../getstarted/" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../runningjobs/" class="md-nav__link">
      Running Jobs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../using/queue/" class="md-nav__link">
      The Queue
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../using/" class="md-nav__link">
      Using the HTCF
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../using/batch/" class="md-nav__link">
      Batch Jobs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../using/interactive/" class="md-nav__link">
      Interactive Jobs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../using/accounting/" class="md-nav__link">
      Job Accounting
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../policies/" class="md-nav__link">
      Policies
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" >
    <label class="md-nav__link" for="nav-4">
      Storage
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Storage" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        Storage
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../storage/" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../storage/hts/" class="md-nav__link">
      HTS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../storage/ref/" class="md-nav__link">
      REF
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../storage/lts/" class="md-nav__link">
      LTS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../storage/ltos/" class="md-nav__link">
      LTOS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../storage/new_index/" class="md-nav__link">
      Beta
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" >
    <label class="md-nav__link" for="nav-5">
      Software
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Software" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        Software
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../software/" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../software_new/" class="md-nav__link">
      Beta
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" >
    <label class="md-nav__link" for="nav-6">
      Support
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Support" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon"></span>
        Support
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../support/" class="md-nav__link">
      Where to find Help
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#cluster-wide-operating-system-upgrade" class="md-nav__link">
    Cluster-wide Operating System Upgrade
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#self-service-software-and-modules" class="md-nav__link">
    Self-service software and modules
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lts" class="md-nav__link">
    LTS
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="q1-2021-changes">Q1 - 2021 Changes</h1>
<p>The beginning of 2021 will see quite a few (pretty cool, we think) changes within the HTCF.  Much effort has been made to ease the transitions that are necessary to make these changes.  Please contact us with any questions or concerns.</p>
<p>Here's what's changing: </p>
<dl>
<dt><strong>OS Upgrade</strong></dt>
<dd>
<p>While the HTCF <em>backend</em> servers have been continually upgraded over the years, the cluster nodes and login server are long overdue for an OS upgrade.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Many of the current software modules rely on system libraries.  These libraries will be upgraded when the OS is upgraded.</p>
<p>It it likely that some software packages will have errors due to the change in system libraries.  Don't worry though, we've got a solution for that.... <img alt="👇" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/1f447.svg" title=":point_down:" /></p>
</div>
</dd>
<dt><strong>Self-Service Software</strong></dt>
<dd>
<p>As the HTCF user base grows, so do the software installation needs.  Maintaining the software and modules for all labs can leave a web of dependency, version, and architecture conflicts that are difficult to untangle.  The most sensible, sustainable, and flexible approach going forward is for HTCF support to move over to the passenger seat and leave the driving to the labs.  Labs should now feel empowered to install and manage their own software (with us in the passenger seat to help navigate).</p>
<p>Infrastructure is in place to ease in this, including an <strong>initial 1TB of space per lab</strong> for software storage called /ref.  Speaking of which.... <img alt="👇" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/1f447.svg" title=":point_down:" /></p>
</dd>
<dt><strong>/ref</strong></dt>
<dd>A new storage location called /ref will be introduced.  /ref is storage space for software and reference databases (think NCBI databases or software-provided reference sequences).  Each lab will be given an initial 1TB of reference space, this space can be grown at LTS prices.</dd>
</dl>
<h2 id="cluster-wide-operating-system-upgrade">Cluster-wide Operating System Upgrade</h2>
<p>All nodes (including the login server) will be upgraded from Ubuntu 16.04 to Ubuntu 20.04.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Many of the current software modules rely on system libraries.  These libraries will be upgraded when the OS is upgraded.</p>
<p>It it likely that some software packages will have errors due to the change in system libraries.</p>
</div>
<table>
<thead>
<tr>
<th>Date</th>
<th>Change</th>
<th>% nodes containing upgraded OS</th>
</tr>
</thead>
<tbody>
<tr>
<td>January XX</td>
<td>New slurm partition <strong><code>beta</code></strong> will be made available for trying out jobs on a small number of nodes that use the upgraded OS.</td>
<td>5%</td>
</tr>
<tr>
<td>January XX</td>
<td>Login Server will be upgraded to new OS</td>
<td>5%</td>
</tr>
<tr>
<td>January XX - XX</td>
<td>Rolling OS upgrades of idle nodes (up to 50% of nodes) will continue.</td>
<td>5% - 50%</td>
</tr>
<tr>
<td>January XX</td>
<td>Slurm partition <strong><code>general</code></strong> will be renamed <strong><code>legacy</code></strong> and <strong><code>beta</code></strong> will be renamed to <strong><code>general</code></strong>.</td>
<td>50%</td>
</tr>
<tr>
<td>January XX</td>
<td>Slurm partition <strong><code>general</code></strong> will become the default interactive and batch job partition.</td>
<td>50%</td>
</tr>
<tr>
<td>January XX - XX</td>
<td>Rolling OS upgrades of idle nodes (up to 95% of nodes) will continue.</td>
<td>50% - 95%</td>
</tr>
<tr>
<td>February XX</td>
<td></td>
<td>100%</td>
</tr>
</tbody>
</table>
<h2 id="self-service-software-and-modules">Self-service software and modules</h2>
<p>The system-wide software and modules in directories <code>/opt/apps</code> and <code>/opt/htcf</code> will be frozen (read-only) and use of software in these directories is <strong>deprecated.</strong></p>
<p>Replacing these directories will be a form of LTS call /ref, lab reference space located in <code>/ref/&lt;lab&gt;/software</code> and <code>/ref/&lt;lab&gt;/modulefiles</code>.  Each lab will receive 1TB of space in /ref for storage of reference material including software and reference sequence databases.  <a href="../storage/ref/">More information about /ref can be found here.</a></p>
<p>Software installation will now be self-service.  To aid in this, <a href="../software_new/">documentation has been added</a> and infrastructue is in place for lab-managed <a href="../software_new/#spack">spack installations</a>.  Thousands of packages are available for installation using <a href="https://spack.readthedocs.io/">spack</a>.</p>
<div class="admonition help">
<p class="admonition-title">Help</p>
<p>We are here to help with the migration from the deprecated modules system to your labs' new /ref software.  Rest assured that the deprecated software will not be removed until migration is complete.</p>
</div>
<table>
<thead>
<tr>
<th>Date</th>
<th>Change</th>
<th>% nodes containing upgraded OS</th>
</tr>
</thead>
<tbody>
<tr>
<td>January XX</td>
<td>Each lab given 1TB of /ref space (<a href="#cluster-wide-operating-system-upgrade"><strong>availabe on all OS-upgraded nodes</strong></a>) to begin testing: <br/> <code>srun --mem=X000 -c X -p beta --pty /bin/bash -l</code></td>
<td></td>
</tr>
</tbody>
</table>
<p>| </p>
<h2 id="lts">LTS</h2>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.0ac82a11.min.js"></script>
      <script src="../assets/javascripts/bundle.f81dfb4d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: ['navigation.instant', 'navigation.tabs', 'navigation.tabs.sticky'],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>